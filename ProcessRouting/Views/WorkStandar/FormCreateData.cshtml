@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div class="row mt-3 d-flex  ">
	<div class="col">
		<div class="card">
			<div class="card-header align-items-center">
				<h3 class="mb-4 ">Form Create</h3>
			</div>
			<div class="card-body">
				<form id="formCreate" >
				<div class="d-grid gap-3 p-2 mb-2">
					<div class="row mb-1 align-items-center justify-content-center">
						<label class="col-md-3 text-end">WS NUMBER :</label>
						<input class="border border-secondary-subtle col form-control form-control" type="text" id="wsNumber" name="wsNumber" value="" />
					</div>
					<div class="row mb-1 align-items-center justify-content-center">
						<label class="col-md-3 text-end">DESCRIPTION :</label>
						<input class="border border-secondary-subtle col form-control form-control" type="text" id="description" name="description" value="" />
					</div>
					<div class="row mb-1 align-items-center justify-content-center">
						<label class="col-md-3 text-end">OWNER :</label>
						<input class="border border-secondary-subtle col form-control form-control" type="text" id="owner" name="owner" value="" />
					</div>

					<div class="row mb-1 align-items-center justify-content-center">
						<label class="col text-end">DATE EFFECTIVE :</label>
						<input class="border border-secondary-subtle  col form-control form-control" type="date" id="dateEffective" name="dateEffective" value="" />
						<label class="col text-end">EXPIRE DATE :</label>
						<input class="border border-secondary-subtle col form-control form-control" type="date" id="expireDate" name="expireDate" value="" />
					</div>

					<div class="row mb-1 align-items-center justify-content-center">
						<label class="col-md-3 text-end">FILE :</label>
						<input class="border border-secondary-subtle col form-control form-control" type="text" id="fileWs" name="fileWs" value="" />
					</div>
					<div class="row mb-1 align-items-center justify-content-center">
						<label class="col-md-3 text-end">NOTE :</label>
						<input class="border border-secondary-subtle col form-control form-control" type="text" id="note" name="note" value="" />
					</div>

				</div>
				<div class="d-flex justify-content-end align-items-lg-center gap-3 mb-1">
					<button type="submit" class="btn btn-primary shadow">
						<i class="bi bi-plus-square"></i> CREATE
					</button>
				</div>
				</form>
			</div>
		</div>
	</div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
	$(document).ready(function () {
		$("#formCreate").submit(function (event) {
			event.preventDefault(); // Mencegah reload halaman

			var formData = {
				wsNumber: $("#wsNumber").val(),
				description: $("#description").val(),
				owner: $("#owner").val(),
				dateEffective: $("#dateEffective").val(),
				expireDate: $("#expireDate").val(),
				fileWs: $("#fileWs").val(),
				note: $("#note").val()
			};

			$.ajax({
				url: "/WorkStandar/CreateData", // URL API
				type: "POST",
				contentType: "application/json",
				data: JSON.stringify(formData),
				success: function (response) {
					alert(response.message); // Notifikasi sukses
					$("#formCreate")[0].reset(); // Reset form setelah submit berhasil
				},
				error: function (xhr) {
					alert("Error: " + xhr.responseJSON.message); // Notifikasi error
				}
			});
		});
	});
</script>